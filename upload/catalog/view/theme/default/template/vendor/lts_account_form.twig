{{ header }}{{ column_left }}
<div id="content">
  <div class="page-header">
    <div class="container">
      <div class="pull-right">
        <button type="submit" form="vendor-account-form" data-toggle="tooltip" title="{{ button_save }}" class="btn btn-primary"><i class="fa fa-save"></i></button>
        <a href="{{ cancel }}" data-toggle="tooltip" title="{{ button_cancel }}" class="btn btn-default"><i class="fa fa-reply"></i></a>
      </div>
      <h1>{{ heading_title }}</h1>
      <ul class="breadcrumb">
        {% for breadcrumb in breadcrumbs %}
        <li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
        {% endfor %}
      </ul>
    </div>
  </div>
  <div class="container">
    {% if error_warning %}
    <div class="alert alert-danger alert-dismissible"><i class="fa fa-exclamation-circle"></i> {{ error_warning }}
      <button type="button" class="close" data-dismiss="alert">&times;</button>
    </div>
    {% endif %}
    {% if success %}
    <div class="alert alert-success alert-dismissible"><i class="fa fa-check-circle"></i> {{ success }}
      <button type="button" class="close" data-dismiss="alert">&times;</button>
    </div>
    {% endif %}
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title"><i class="fa fa-use"></i> {{ text_account_details }}</h3>
      </div>
      <div class="panel-body">
        <form action="{{ action }}" method="post" class="form-horizontal" enctype="multipart/form-data" id="vendor-account-form">
            <ul class="nav nav-tabs">
              <li class="active"><a href="#tab-general" data-toggle="tab">{{ tab_general }}</a></li>
              <li><a href="#tab-address" data-toggle="tab">{{ tab_address }}</a></li>
              <li><a href="#tab-payment" data-toggle="tab">{{ tab_payment }}</a></li>
            </ul>
          <div class="tab-content">
            <div class="tab-pane active" id="tab-general">
              <div class="form-group required">
                <label class="col-sm-2 control-label" for="input-name">{{ entry_username }}</label>
                <div class="col-sm-10">
                  <input type="text" name="username" value="{{ username }}" class="form-control" placeholder="{{ entry_username }}"> 
                  {% if error_username %}
                    <div class="text-danger">{{ error_username }}</div>
                  {% endif %}
                </div>
              </div>
               <div class="form-group required">
                <label class="col-sm-2 control-label" for="input-name">{{ entry_firstname }}</label>
                <div class="col-sm-10">
                  <input type="text" name="firstname" value="{{ firstname }}" class="form-control" placeholder="{{ entry_firstname }}"> 
                  {% if error_firstname %}
                    <div class="text-danger">{{ error_firstname }}</div>
                  {% endif %}
                </div>
              </div>
               <div class="form-group required">
                <label class="col-sm-2 control-label" for="input-name">{{ entry_lastname }}</label>
                <div class="col-sm-10">
                  <input type="text" name="lastname" value="{{ lastname }}" class="form-control" placeholder="{{ entry_lastname }}"> 
                  {% if error_lastname %}
                    <div class="text-danger">{{ error_lastname }}</div>
                  {% endif %}
                </div>
              </div>
               <div class="form-group required">
                <label class="col-sm-2 control-label" for="input-name">{{ entry_email }}</label>
                <div class="col-sm-10">
                  <input type="text" name="email" value="{{ email }}" class="form-control" placeholder="{{ entry_email }}">
                  {% if error_email %}
                    <div class="text-danger">{{ error_email }}</div>
                  {% endif %} 
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label" for="input-name">{{ entry_about }}</label>
                <div class="col-sm-10">
                  <textarea name="about" class="form-control" placeholder="{{ entry_about }}" rows="5">{{ about }}</textarea>
                </div>
              </div>
          </div>
            <div class="tab-pane" id="tab-address">
              <div class="form-group required">
                <label class="col-sm-2 control-label" for="input-name">{{ entry_store }}</label>
                <div class="col-sm-10">
                  <input type="text" name="store" value="{{ store }}" class="form-control" placeholder="{{ entry_store }}"> 
                  {% if error_store %}
                    <div class="text-danger">{{ error_store }}</div>
                  {% endif %}
                </div>
              </div>

              <div class="form-group required">
                <label class="col-sm-2 control-label" for="input-name">{{ entry_address1 }}</label>
                <div class="col-sm-10">
                  <input type="text" name="address1" value="{{ address1 }}" class="form-control" placeholder="{{ entry_address1 }}"> 
                  {% if error_address1 %}
                    <div class="text-danger">{{ error_address1 }}</div>
                  {% endif %}
                </div>
              </div>

              <div class="form-group">
                <label class="col-sm-2 control-label" for="input-name">{{ entry_address2 }}</label>
                <div class="col-sm-10">
                  <input type="text" name="address2" value="{{ address2 }}" class="form-control" placeholder="{{ entry_address2 }}"> 
                </div>
              </div>

               <div class="form-group required">
                <label class="col-sm-2 control-label" for="input-name">{{ entry_city }}</label>
                <div class="col-sm-10">
                  <input type="text" name="city" value="{{ city }}" class="form-control" placeholder="{{ entry_city }}"> 
                  {% if error_city %}
                    <div class="text-danger">{{ error_city }}</div>
                  {% endif %}
                </div>
              </div>

               <div class="form-group">
                <label class="col-sm-2 control-label" for="input-name">{{ entry_postcode }}</label>
                <div class="col-sm-10">
                  <input type="text" name="postcode" value="{{ postcode }}" class="form-control" placeholder="{{ entry_postcode }}">
                </div>
              </div>
                      
              <div class="form-group required">
                <label class="col-sm-2 control-label" for="input-name">{{ entry_country }}</label>
                <div class="col-sm-10">
                 <select name="country_id" id="input-payment-country" class="form-control">
                    <option value="">{{ text_select }}</option>
                     {% for country in countries %}
                      {% if country.country_id == country_id %}
                      <option value="{{ country.country_id }}" selected="selected">{{ country.name }}</option>
                      {% else %}
                      <option value="{{ country.country_id }}">{{ country.name }}</option>
                      {% endif %}
                      {% endfor %}
                  </select>
                   {% if error_country_id %}
                    <div class="text-danger">{{ error_country_id }}</div>
                   {% endif %}
                </div>
              </div>

               <div class="form-group required">
                <label class="col-sm-2 control-label" for="input-name">{{ entry_state }}</label>
                 <div class="col-sm-10">
                  <select name="zone_id" id="input-payment-zone" class="form-control">
                  </select>
                   {% if error_zone_id %}
                    <div class="text-danger">{{ error_zone_id }}</div>
                  {% endif %}
                </div>
              </div>

              <div class="form-group">
                <label class="col-sm-2 control-label" for="input-name">{{ entry_image }}</label>
                <div class="col-sm-10">
                  <a href="" id="vendor-logo" data-toggle="image" class="img-thumbnail"><img src="{{ thumb }}" alt="" title="" data-placeholder="{{ placeholder }}"/></a>
                  <input type="hidden" name="image" value="{{ image }}" id="input-logo" />
                </div>
              </div>



          </div>   
          <div class="tab-pane" id="tab-payment">
            <ul class="nav nav-tabs" id="">
                <li class="active"><a href="#tab-paypal" data-toggle="tab">{{ tab_paypal }}</a></li>
                <li><a href="#tab-bank-transfer" data-toggle="tab">{{ tab_bank_transfer }} </a></li>
            </ul>
            <div class="tab-content">
               <div class="tab-pane active" id="tab-paypal">
                   <div class="form-group required">
                    <label class="col-sm-2 control-label" for="input-paypal">{{ entry_paypal }}</label>
                    <div class="col-sm-10">
                      <input type="text" name="paypal" value="{{ paypal }}" class="form-control" placeholder="{{ entry_paypal }}">
                      {% if error_paypal %}
                        <div class="text-danger">{{ error_paypal }}</div>
                      {% endif %}
                    </div>
                  </div>
                </div>

                <div class="tab-pane" id="tab-bank-transfer">
                  <div class="form-group required">
                    <label class="col-sm-2 control-label" for="account-holder">{{ entry_account_holder }}</label>
                    <div class="col-sm-10">
                      <input type="text" name="account_holder" value="{{ account_holder }}"  class="form-control" placeholder="{{ entry_account_holder }}">
                       {% if error_account_holder %}
                        <div class="text-danger">{{ error_account_holder }}</div>
                      {% endif %}

                    </div>
                  </div>
                  <div class="form-group required">
                    <label class="col-sm-2 control-label" for="bankname">{{ entry_bankname }}</label>
                    <div class="col-sm-10">
                      <input type="text" name="bankname" value="{{ bankname }}"  class="form-control" placeholder="{{ entry_bankname }}">
                        {% if error_bankname %}
                        <div class="text-danger">{{ error_bankname }}</div>
                      {% endif %}
                    </div>
                  </div>
                  <div class="form-group required">
                    <label class="col-sm-2 control-label" for="accountno">{{ entry_accountno }}</label>
                    <div class="col-sm-10">
                      <input type="text" name="accountno" value="{{ accountno }}" class="form-control" placeholder="{{ entry_accountno }}">
                       {% if error_accountno %}
                        <div class="text-danger">{{ error_accountno }}</div>
                      {% endif %}
                    </div>
                  </div>
                  <div class="form-group required">
                    <label class="col-sm-2 control-label" for="ifsc">{{ entry_ifsc }}</label>
                    <div class="col-sm-10">
                      <input type="text" name="ifsc" value="{{ ifsc }}" class="form-control" placeholder="{{ entry_ifsc }}">
                       {% if error_ifsc %}
                        <div class="text-danger">{{ error_ifsc }}</div>
                      {% endif %}
                    </div>
                  </div>

                </div>
            </div>
          </div>
			 </form>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript"><!--
$('select[name=\'country_id\']').on('change', function() {
  $.ajax({
    url: 'index.php?route=vendor/lts_account/country&country_id=' + this.value,
    dataType: 'json',
    beforeSend: function() {
      $('select[name=\'country_id\']').prop('disabled', true);
    },
    complete: function() {
      $('select[name=\'country_id\']').prop('disabled', false);
    },
    success: function(json) {
      if (json['postcode_required'] == '1') {
        $('input[name=\'postcode\']').parent().parent().addClass('required');
      } else {
        $('input[name=\'postcode\']').parent().parent().removeClass('required');
      }

      html = '<option value="">{{ text_select }}</option>';

      if (json['zone'] && json['zone'] != '') {
        for (i = 0; i < json['zone'].length; i++) {
          html += '<option value="' + json['zone'][i]['zone_id'] + '"';

          if (json['zone'][i]['zone_id'] == '{{ zone_id }}') {
            html += ' selected="selected"';
          }

          html += '>' + json['zone'][i]['name'] + '</option>';
        }
      } else {
        html += '<option value="0" selected="selected">{{ text_none }}</option>';
      }

      $('select[name=\'zone_id\']').html(html);
    },
    error: function(xhr, ajaxOptions, thrownError) {
      alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
    }
  });
});

$('select[name=\'country_id\']').trigger('change');
//--></script>

{{ footer }}